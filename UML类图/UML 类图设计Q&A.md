# UML 类图设计 Q&A

**为什么提问与标签是多对多聚合关系？**

标签可为系统进行机器学习计算提供资源。

多个提问可以对应同个标签，多个标签可以对应同个提问。

标签应是问题的一部分，但标签的生命周期却独立于问题。

即，某个问题消亡时，标签仍然存在。



**为什么普通成员对提问、回答和评论是聚合而非组合？**

如果用户注销或被封禁，所有相关提问、回答与评论被封禁是不合理的。

如知乎和网易云音乐的处理：

当用户被封禁时，其提问、回答与评论依然存在，但头像与 id 改变为 "违规用户" 或 “已注销用户”。

大数据时代，数据即金钱，删除数据是十分可惜和不合理的，应尽量保存。



**对评论的评论（评论嵌套）是怎么处理的？**

本系统处理评论嵌套接近 YouTube 与 知乎，而非 Reddit。

可以对某个评论进行评论，组成父子关系。

这些评论会成为 ``会话``，即由评论组成的树。

点击 ``相关讨论``，即可获取整个会话的信息。 

因此，评论与评论之间还有联系，且带箭头，指明父子关系。



**为什么要有 ``state`` 属性的设计**

大数据时代，删除数据十分可惜，且低效。

通过 ``state``，我们可用 O(1) 的代价进行数据隐藏，实现 “删除” 效果。

这样快速，敏捷，且能方便地用数据弱一致性解决删除性能问题。

所被隐藏的数据将会被系统输入相关模型进行分析，或存根备用。



**中文命名在生成代码时会有问题吗？**

中文类名与属性名，均为 Power Designer 的 ``name`` 项，只为方便理解和展示。

其 ``code`` 项已经填上对应英文。

生成代码时将使用 ``code`` 而非 ``name``，不会产生冲突。

所有命名均采用驼峰命名法。