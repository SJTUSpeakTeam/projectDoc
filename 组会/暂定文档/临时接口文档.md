# ä¸´æ—¶æ–‡æ¡£

````
Create Date: 2020/10/19
Last Update: 2020/11/15
````
Ã—è¡¨ç¤ºæœªå®Œæˆ 

âˆšè¡¨ç¤ºå®Œæˆ

ç›¸å…³å˜é‡åè§ UML oom æ–‡ä»¶

æ‰€æœ‰è¯·æ±‚è¯·å°è£…åˆ° api.js ä¸­

è¿”å›å€¼ï¼Œswaggeræ–‡æ¡£ï¼Œè¯·æ±‚åœ°å€äº 2020/10/20 æ›´æ–°

## ã€‡ï¼šé›†ç¾¤é…ç½®

````shell
# -----------------------
# |Cluster Outer Service|
# -----------------------

# Master ssh
202.120.40.8:30390

# Cluster Backend - Istio Gateway
202.120.40.8:30391

# !Deprecated Mono
# 202.120.40.8:30392

# CI/CD - Jenkins
# Username: kony
# Password: 159840
202.120.40.8:30393

# Private Docker Registry Dashboard with Target Port
202.120.40.8:30398

# Object Storage Service - MinIO
# Access key: AKIAIOSFODNN7EXAMPLE
# Secret key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# Bucket: product
# Object example: 
#    202.120.40.8:30399/bucket/[timestamp]blob[rand].jpg
202.120.40.8:30399
````

````shell
# -----------------------
# |Cluster Inner Service|
# -----------------------

# Node System: Ubuntu 18.04
# Node pem: Test.pem
# Login User: root

# Node Ip:
#   Master - test-1
10.0.0.49
#   Node - test-2
10.0.0.118
#   Node - test-3
10.0.0.49
#   Node - test-4
10.0.0.50
#   NFS - test-5                  // for storage class usage
10.0.0.47

# Private Docker Registry
10.0.0.49:5000

# Project repo
Master:~/SYH/

# MinIO Service
10.103.243.11:9000

# MySQL cluster DNS:
mysql.mysql

# mongo cluster DNS:
#  Slave 1
mongo-0.mongo.mongo 
#  Slave 2
mongo-1.mongo.mongo
#  Master
mongo-2.mongo.mongo
````

````shell
# -----------------------
# |  Widget In Cluster |
# -----------------------

# Log and CPU usage following
kubebox                              # use 'n' to change namespace

# Overall management
cd ~
minikube
````

![image-20201116084715275](%E4%B8%B4%E6%97%B6%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/image-20201116084715275.png)

![image-20201116084920975](%E4%B8%B4%E6%97%B6%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3/image-20201116084920975.png)

**ä¸Šä¼ å›¾ç‰‡/æ–‡ä»¶**

````
Auth: None
Request: POST /file/upload
body: {
	RawBlobData // å°† raw blob æ•°æ®ç›´æ¥ä¸Šä¼ ï¼Œä¸è¦æ‰“åŒ… JSON
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ : )",
    "data": {
    	"link" : String // å³ å›¾ç‰‡/æ–‡ä»¶ çš„è·å–é“¾æ¥
    }
}
````

## ä¸€ã€ç”¨æˆ·ç®¡ç†

**ç”¨æˆ·çŠ¶æ€é¡»çŸ¥ï¼š**

````
ç”¨æˆ·çŠ¶æ€ï¼šuserType
å†…å®¹ï¼šInteger

åˆ†ç±»ï¼š
0: è¢« ban ç”¨æˆ·
1: ç®¡ç†å‘˜ç”¨æˆ·
2: æ­£å¸¸ç”¨æˆ·
3: éœ€é‚®ç®±ç™»å½•ç”¨æˆ·
````

**ç»™ä¸€å † idï¼Œè¿”å›è¿™äº›ç”¨æˆ·çš„è¯¦æƒ…æ¶ˆæ¯**

````json
Auth: User
Request: Post /user/get-some
Body{
	"idArray" : [0, 1, .., Integer] // è¿™æ˜¯ä½ æƒ³æŸ¥çš„ä¸€å †ç”¨æˆ·çš„ id
}

Response:
data(successful): {
    "status": Integer, 					// -1 ä¸ºè¯·æ±‚å¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String, 						// ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ :)"
    "data": {
            userList: [								// æ³¨æ„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„, æ¯ä¸ªå¯¹è±¡å‡ä¸ºä¸€ä¸ªç”¨æˆ·
        	{
                "user": {
                    "avatar": UrlString,
                    "age": Integer,
                    "createTime": DateTime,
                    "gender": true,
                    "nickname": "KONY",
                    "phoneNum": "17317790037",
                    "userId": 3
                },
                "userAuth": {
                    "mailAddr": "lhy159840@sjtu.edu.cn",
                    "userType": 2,
                    "humanStatus": "æ­£å¸¸ç”¨æˆ·" // ç”¨äººèƒ½çœ‹æ‡‚çš„è¯­è¨€æè¿°ç”¨æˆ·çŠ¶æ€
                },
                "regularUser": {   // æ™®é€šç”¨æˆ·è¿”å›è¯¥å€¼ï¼Œç®¡ç†å‘˜ç”¨æˆ·è¿”å› adminUser
                    "answerNum": 0,
                    "commentNum": 0,
                    "fansNum": 0,
                    "followNum": 0,
                    "liftingTime": DateTime,
                    "profile": "è¿™ä¸ªç”¨æˆ·å¾ˆæ‡’ï¼Œè¿˜æ²¡æœ‰æè¿°è¿‡è‡ªå·±~",
                    "questionNum": 0,
                    "visitNum": 0
                }
            },
            {
                "user": {
                    "avatar": UrlString,
                    "age": Integer,
                    "createTime": DateTime,
                    "gender": true,
                    "nickname": "KONY",
                    "phoneNum": "15685030037",
                    "userId": 4
                },
                "userAuth": {
                    "mailAddr": "lhy15981@sjtu.edu.cn",
                    "userType": 1,
                    "humanStatus": "ç®¡ç†å‘˜"  // ç”¨äººèƒ½çœ‹æ‡‚çš„è¯­è¨€æè¿°ç”¨æˆ·çŠ¶æ€
                },
                "adminUser": { // ç®¡ç†å‘˜è¿”å›è¯¥å€¼ï¼Œæ™®é€šç”¨æˆ·è¿”å› regularUser
                    "contentBanNum": 0,
                    "senWordNum": 0,
                    "userBanNum": 0,
                }
            },
        	...
        ]
    }
}
````

**æŒ‰ç±»å‹æ£€ç´¢ç”¨æˆ·**

````json
Auth: Admin
Request: POST /user/get-key
Body{								// å¹´é¾„ï¼Œç”¨æˆ·ç±»å‹ï¼Œé¡µç ä¸€å®šè¦æœ‰ï¼Œè‹¥æƒ³æŸ¥æ‰€æœ‰å¹´é¾„ï¼Œå¯ä»¥ä¼ åç«¯èŒƒå›´: [-1, 999]
	"nickname": String,				// æ˜µç§°ï¼Œæ€§åˆ«ï¼Œé‚®ç®±è‹¥æ²¡æœ‰ ğŸ‘‰ **è¯·ä¸è¦æ”¾è¿›è¯·æ±‚é‡Œï¼Œè®¾ä¸º null æ”¾è¯·æ±‚é‡Œä¹Ÿä¸è¡Œ**
    "mailAddr": String,				
    "ageFrom": Integer,				// è‹¥ä¸æ˜¯æŒ‰èŒƒå›´ï¼Œè¯·å°†è¿™é¡¹ä¸ä¸‹ä¸€é¡¹è®¾ä¸ºåŒä¸€ä¸ªå€¼
    "ageTo": Integer,				
    "gender": Boolean,				// true ä¸ºç”·æ€§ï¼Œfalse ä¸ºå¥³æ€§
    "userType": Integer,			// å‚è§é¡¶éƒ¨ç”¨æˆ·çŠ¶æ€é¡»çŸ¥ï¼Œå»ºè®®å‰ç«¯å±•ç¤ºç»™ç®¡ç†å‘˜äººè¯ï¼Œç„¶åä¼ åç«¯ç›¸åº”å€¼
    "pageNum": Integer				// é¡µæ•°ï¼Œé¡µç ä» 0 å¼€å§‹ï¼Œä¸€é¡µ 8 ä¸ªç”¨æˆ·ä¿¡æ¯
}

Response:
data(successful): {
    "status": Integer, 					// -1 ä¸ºè¯·æ±‚å¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String, 						// ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ :)"
    "data": {
        userList: [								// æ³¨æ„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡æ•°ç»„, æ¯ä¸ªå¯¹è±¡å‡ä¸ºä¸€ä¸ªç”¨æˆ·
        	{
                "user": {
                    "avatar": UrlString,
                    "age": Integer,
                    "createTime": DateTime,
                    "gender": true,
                    "nickname": "KONY",
                    "phoneNum": "17317790037",
                    "userId": 3
                },
                "userAuth": {
                    "mailAddr": "lhy159840@sjtu.edu.cn",
                    "userType": 2,
                    "humanStatus": "æ­£å¸¸ç”¨æˆ·" // ç”¨äººèƒ½çœ‹æ‡‚çš„è¯­è¨€æè¿°ç”¨æˆ·çŠ¶æ€
                },
                "regularUser": {   // æ™®é€šç”¨æˆ·è¿”å›è¯¥å€¼ï¼Œç®¡ç†å‘˜ç”¨æˆ·è¿”å› adminUser
                    "answerNum": 0,
                    "commentNum": 0,
                    "fansNum": 0,
                    "followNum": 0,
                    "liftingTime": DateTime,
                    "profile": "è¿™ä¸ªç”¨æˆ·å¾ˆæ‡’ï¼Œè¿˜æ²¡æœ‰æè¿°è¿‡è‡ªå·±~",
                    "questionNum": 0,
                    "visitNum": 0
                }
            },
            {
                "user": {
                    "avatar": UrlString,
                    "age": Integer,
                    "createTime": DateTime,
                    "gender": true,
                    "nickname": "KONY",
                    "phoneNum": "15685030037",
                    "userId": 4
                },
                "userAuth": {
                    "mailAddr": "lhy15981@sjtu.edu.cn",
                    "userType": 1,
                    "humanStatus": "ç®¡ç†å‘˜"  // ç”¨äººèƒ½çœ‹æ‡‚çš„è¯­è¨€æè¿°ç”¨æˆ·çŠ¶æ€
                },
                "adminUser": { // ç®¡ç†å‘˜è¿”å›è¯¥å€¼ï¼Œæ™®é€šç”¨æˆ·è¿”å› regularUser
                    "contentBanNum": 0,
                    "senWordNum": 0,
                    "userBanNum": 0,
                }
            },
        	...
        ],
        page: Integer					//  å‘Šè¯‰ä½ ä¸€å…±æœ‰å¤šå°‘é¡µ
    }
}
````

**ç™»å½•**

````
Auth: None
Request: POST /login
Body: {
    "mailAddr": String,
    "password": String
}

Response:
data(successful): {
    "status": Integer, // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String, // ä¾‹å­ï¼š"ç™»å½•æˆåŠŸ :)"
    "data": {
        "avatar": String,  // è¿™æ˜¯ä¸ª url
        "age": Integer,
        "createTime": Datetime ,
        "gender": Boolean ,
        "mailAddr": String,
        "nickname": String,
        "phoneNum": String,
        "userId": Integer,
        "token": String,
        "email": String,
        "userType": Integer // ç”¨æ¥åˆ¤æ–­è·³è½¬å»ç”¨æˆ·è¿˜æ˜¯ç®¡ç†å‘˜ç•Œé¢
    }
}
````

**æ£€æŸ¥ç”¨æˆ·åå­˜åœ¨**

````
Auth: None
Request: GET /verify/nickname
Parameters: value(String)

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ : )",
}
````

**æ£€æŸ¥é‚®ç®±å­˜åœ¨**

````
Auth: None
Request: GET /verify/mailAddr
Parameters: value(String)

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ : )",
}
````

**æ³¨å†Œ**

````
Auth: None
Request: POST /registry
Body: {
    "mailAddr": String,
    "phoneNum": String,
    "password": String,
    "nickname": String
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ : )",
}
````

**ban ä¸€å †ç”¨æˆ· **

````
Auth: Admin
Request: POST /user/ban
Body: {
    "idArray": [Integer, Integer, ... , Integer]
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"ç”¨æˆ·çš„ id ä¸å­˜åœ¨:0",
}
````

**è§£ ban ä¸€å †ç”¨æˆ·**

````
Auth: Admin
Request: POST /user/lift-ban
Body: {
    "idArray": [Integer, Integer, ... , Integer]
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"ç”¨æˆ·çš„ id ä¸å­˜åœ¨:0",
}
````

**å–å¾—å•ä¸ªç”¨æˆ·ä¿¡æ¯**

````
Auth: User
Request: GET /user/get-one
Parameters: id(Integer)

Response:
data(successful): {
    "status": 0,
    "msg": "æ“ä½œæˆåŠŸ :)",
    "data": {
                "user": {
                    "avatar": UrlString,
                    "age": Integer,
                    "createTime": DateTime,
                    "gender": true,
                    "nickname": "KONY",
                    "phoneNum": "17317790037",
                    "userId": 3
                },
                "userAuth": {
                    "mailAddr": "lhy159840@sjtu.edu.cn",
                    "userType": 2,
                    "humanStatus": "æ­£å¸¸ç”¨æˆ·" // ç”¨äººèƒ½çœ‹æ‡‚çš„è¯­è¨€æè¿°ç”¨æˆ·çŠ¶æ€
                },
                "regularUser": {   // æ™®é€šç”¨æˆ·è¿”å›è¯¥å€¼ï¼Œç®¡ç†å‘˜ç”¨æˆ·è¿”å› adminUser
                    "answerNum": 0,
                    "commentNum": 0,
                    "fansNum": 0,
                    "followNum": 0,
                    "liftingTime": DateTime,
                    "profile": "è¿™ä¸ªç”¨æˆ·å¾ˆæ‡’ï¼Œè¿˜æ²¡æœ‰æè¿°è¿‡è‡ªå·±~",
                    "questionNum": 0,
                    "status": 2,
                    "visitNum": 0
                },
                "adminUser": { // ç®¡ç†å‘˜è¿”å›è¯¥å€¼ï¼Œæ™®é€šç”¨æˆ·è¿”å› regularUser
                    "contentBanNum": 0,
                    "senWordNum": 0,
                    "userBanNum": 0,
                }
          }
}
````

**å–å¾—æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ï¼ˆæ¯é¡µ 8 ä¸ªï¼‰**

````
Auth: Admin
Request: GET /user/get-all
Parameters: page(Integer) // é¡µç å‚æ•°ä» 0 å¼€å§‹

Response:
data(successful): {
    "status": 0,
    "msg": "æ“ä½œæˆåŠŸ :)",
    "data": {
        "userList": [
            {
                "user": {
                    "avatar": UrlString,
                    "age": Integer,
                    "createTime": DateTime,
                    "gender": true,
                    "nickname": "KONY",
                    "phoneNum": "17317790037",
                    "userId": 3
                },
                "userAuth": {
                    "mailAddr": "lhy159840@sjtu.edu.cn",
                    "userType": 2,
                    "humanStatus": "æ­£å¸¸ç”¨æˆ·" // ç”¨äººèƒ½çœ‹æ‡‚çš„è¯­è¨€æè¿°ç”¨æˆ·çŠ¶æ€
                },
                "regularUser": {   // æ™®é€šç”¨æˆ·è¿”å›è¯¥å€¼ï¼Œç®¡ç†å‘˜ç”¨æˆ·è¿”å› adminUser
                    "answerNum": 0,
                    "commentNum": 0,
                    "fansNum": 0,
                    "followNum": 0,
                    "liftingTime": DateTime,
                    "profile": "è¿™ä¸ªç”¨æˆ·å¾ˆæ‡’ï¼Œè¿˜æ²¡æœ‰æè¿°è¿‡è‡ªå·±~",
                    "questionNum": 0,
                    "visitNum": 0
                }
            },
            {
                "user": {
                	"userId" : Integer,
                    "avatar": UrlString,
                    "age": Integer,
                    "createTime": DateTime,
                    "gender": true,
                    "nickname": "KONY",
                    "phoneNum": "15685030037",
                    "userId": 4
                },
                "userAuth": {
                    "mailAddr": "lhy15981@sjtu.edu.cn",
                    "userType": 1,
                    "humanStatus": "ç®¡ç†å‘˜"  // ç”¨äººèƒ½çœ‹æ‡‚çš„è¯­è¨€æè¿°ç”¨æˆ·çŠ¶æ€
                },
                "adminUser": { // ç®¡ç†å‘˜è¿”å›è¯¥å€¼ï¼Œæ™®é€šç”¨æˆ·è¿”å› regularUser
                    "contentBanNum": 0,
                    "senWordNum": 0,
                    "userBanNum": 0,
                }
            },
            ...
        ],
        
        "page": 0 // è¯´æ˜ä½ å½“å‰çš„é¡µç æ˜¯ç¬¬å‡ é¡µ
    }
}
````

**ä¿®æ”¹ä¸ªäººä¿¡æ¯**

// å¦‚æœå¯¹å“ªäº›é¡¹ç›®ä¸è¿›è¡Œä¿®æ”¹ï¼Œ**ä¸è¦æŠŠå®ƒä»¬æ”¾åˆ°ä¸Šä¼ å€¼ä¸­ï¼Œä¹Ÿä¸è¦ç•™ null** ã€‚ä½ å¯ä»¥ä¿æŒåŸå€¼ä¸Šä¼ 

// è‹¥å¯¹é‚®ç®±ä¿®æ”¹ï¼Œå°†ä¼šå‘èµ·éªŒè¯

````
Auth: NotBannedUser
Request: Post /user/modify-info
Body: {
	"userId": Integer,
    "avatar": UrlString, // è¿™æ˜¯å¤´åƒçš„ url åœ°å€
    "age": Integer,
	"gender": boolean, // 1 ä»£è¡¨ç”·ï¼Œ 0 ä»£è¡¨å¥³
    "phoneNum": String,
    "profile": String // ä¸ªäººç®€ä»‹
    "mailAddr": String
    "nickname": String
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ",
}
````

**ä¿®æ”¹å¯†ç **

// å¯†ç ä¸€æ—¦ä¿®æ”¹ï¼Œå°†æ”¹åŠ¨ tokenï¼Œéœ€è¦å‰ç«¯è¿›è¡Œ token çš„æ›´æ–°

````
Auth: NotBannedUser
Request: Post /user/modify-password
Body: {
	"userId": Integer,
    "password": String
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ",
    "data": {
    	"token" : String
    }
}
````

**ä¿®æ”¹ç”¨æˆ·ç±»å‹** 

// æ­£å¼ä¸Šçº¿åå°†åœæ­¢å¼€æ”¾

````
Auth: Pass
Request: Post /user/transfer
Body: {
	"userId": Integer,
    "userType": Integer
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ",
}
````

**å…³æ³¨ä¸€å †äºº**

````
Auth: NotBannedUser
Request: Post /follow/follow
Body: {
	"userId": Integer
    "followIds": [Integer, Integer, ... , Integer]
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ",
}
````

**å–æ¶ˆå…³æ³¨ä¸€å †äºº**

````
Auth: NotBannedUser
Request: Post /follow/remove
Body: {
	"userId": Integer
    "followIds": [Integer, Integer, ... , Integer]
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ",
}
````

**æ£€æŸ¥æ˜¯å¦å…³æ³¨ä¸€å †äºº**

````
Auth: NotBannedUser
Request: Post /follow/is-follow
Body: {
	"userId": Integer
    "followIds": [Integer, Integer, ... , Integer]
}

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ",
    "data": {
    	"followIds": [Integer, Integer, ... , Integer]  // è¿™äº›ç”¨æˆ·è¢«ä½ å…³æ³¨
    }
}
````

**è·å–è‡ªå·±æ‰€å…³æ³¨çš„æ‰€æœ‰ç”¨æˆ·çš„ id**

````
Auth: NotBannedUser
Request: GET /follow/list-follow
Parameters:	"userId": Integer

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ",
    "data": {
    	"followIds": [Integer, Integer, ... , Integer]  // è‡ªå·±å…³æ³¨çš„æ‰€æœ‰ id çš„åˆ—è¡¨
    }
}
````

**è·å–è‡ªå·±æ‰€æœ‰ follower çš„ id**

````
Auth: NotBannedUser
Request: GET /follow/list-follower
Parameters: "userId": Integer

Response:
data(successful): {
    "status": Integer // -1 ä¸ºå¤±è´¥ï¼Œ 0 ä¸ºæˆåŠŸ
    "msg": String // ä¾‹å­ï¼š"æ“ä½œæˆåŠŸ",
    "data": {
    	"followIds": [Integer, Integer, ... , Integer]  // å…³æ³¨è‡ªå·±çš„æ‰€æœ‰ id çš„åˆ—è¡¨
    }
}
````

## äºŒã€é—®é¢˜ç®¡ç† (likeNumå’ŒfavorNumé€‰æ‹©likeNum)

* #### é—®é¢˜å‘å¸ƒ âˆš
```matlab
Request: POST /postQuestion
Body: {
    *header: string
    *content: string
    *userId: integer
    *theme: string
    tags: [string, ...]
}

Response:
data(successful): {
    questionId: integer
}
```

* #### é—®é¢˜ç”¨æˆ·è·å– âˆš (10ä¸ª)
```matlab
Request: GET /getUserQuestions
Parameters: beginQuestionId(integer) userId(integer)

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        answerNum: integer
        tags: [string, ...]
    ]
}
```

* #### ç”¨æˆ·å‚ä¸çš„é—®é¢˜è·å–(å›ç­”è¿‡çš„é—®é¢˜) âˆš (10ä¸ª)
```matlab
Request: GET /getUserAnswerQuestions
Parameters: beginQuestionId(integer) userId(integer)

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        answerNum: integer
        tags: [string, ...]
    ]
}
```

* #### é—®é¢˜ç®¡ç†å‘˜è·å– âˆš (deleteå’Œbançš„è¾“å…¥æ²¡æœ‰é™åˆ¶(æ²¡æœ‰åªæœ‰ä¸€ä¸ªä¸ºtrueè¿™ç§é™åˆ¶))
```matlab
Request: POST /getAdminQuestions
Parameters: 
BODY:{
    *beginQuestionId: integer
    search:string
    theme:string
    delete:boolean
    ban:boolean
    
}

Response:
data(successful): {
    questionId: integer
    userId: integer
    theme: string
    header: string
    content: string
    createTime: date
    likeNum: integer
    favorNum: integer
    visitNum: integer
    answerNum: integer
    status: integer
    tags: [string, ...]
}
```

* #### é—®é¢˜æœ€æ–°è·å– âˆš (5ä¸ª)(æ ¹æ®date)
```matlab
Request: GET /getNewQuestions

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        answerNum: integer
        tags: [string, ...]
    ]
}
```

* #### é—®é¢˜çƒ­é—¨è·å– âˆš (5ä¸ª)(æ ¹æ®viewNum)
```matlab
Request: GET /getHotQuestions

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        answerNum: integer
        status: short
        tags: [string, ...]
    ]
}
```

* #### é—®é¢˜ç­›é€‰è·å– âˆš (10ä¸ª)
```matlab
Request: POST /getFilterQuestions
BODY:{
    *beginQuestionId: integer
    search:string
    theme:string
    mostLike:boolean
    hottest:boolean
    mostReply:boolean
    newest:boolean
}

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        answerNum: integer
        tags: [string, ...]
    ]
}
```

* #### é—®é¢˜è·å– âˆš
```matlab
Request: GET /getQuestion
Parameters: questionId(integer)

Response:
data(successful): {
    questionId: integer
    userId: integer
    theme: string
    header: string
    content: string
    createTime: date
    likeNum: integer
    favorNum: integer
    visitNum: integer
    answerNum: integer
    tags: [string, ...]
}
```

* #### é—®é¢˜æ›´æ”¹ âˆš
```matlab
Request: POST /updateQuestion
Body: {
    *questionId: integer
    *theme: string
    *userId: integer
    header: string
    content: string
    tags: [string, ...]
}

Response:
data(successful): {
    questionId: integer
}
```

* #### é—®é¢˜å°ç¦ âˆš
```matlab
Request: PUT /banQuestion
Body: {
    *questionId: integer
}

Response:
data(successful): {}
```

* #### é—®é¢˜è§£ç¦ âˆš
```matlab
Request: PUT /unbanQuestion
Body: {
    *questionId: integer
}

Response:
data(successful): {}
```

* #### é—®é¢˜åˆ é™¤ âˆš
```matlab
Request: DELETE /deleteQuestion
Body: {
    *questionId: integer
    *userId: integer
}

Response:
data(successful): {}
```

* #### é—®é¢˜ç‚¹èµ âˆš
```matlab
Request: GET /likeQuestion
Parameters: userId(integer),questionId(integer),like(boolean)

```

* #### é—®é¢˜æ”¶è— âˆš
```matlab
Request: GET /collectQuestion
Parameters: userId(integer),questionId(integer),collect(boolean)

```

* #### ç”¨æˆ·æ”¶è—çš„é—®é¢˜è·å– âˆš (10ä¸ª)
```matlab
Request: GET /getUserCollectQuestions
Parameters: beginQuestionId(integer) userId(integer)

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        answerNum: integer
        tags: [string, ...]
    ]
}
```

* #### é—®é¢˜ä¸ç”¨æˆ·å…³ç³» âˆš
```matlab
Request: GET /relateToQuestion
Parameters: userId(integer),questionId(integer)

Response:
data(successful): {
    like: boolean
    collect: boolean
}
```

* #### å¢åŠ é—®é¢˜è®¿é—®æ¬¡æ•° Ã— (éœ€è¦ä½¿ç”¨userç±»)
```matlab
Request: GET /browseQuestion
Parameters: userId(integer),questionId(integer)
```

## ä¸‰ã€å›ç­”ç®¡ç†
* #### å›ç­”å‘å¸ƒ âˆš
```matlab
Request: POST /postAnswer
Body: {
    *questionId: integer
    *userId: integer
    *content: string
}

Response:
data(successful): {
    answerId: integer
}
```

* #### å›ç­”ç”¨æˆ·è·å– âˆš (10æ¡)

```matlab
Request: GET /getUserAnswers (-1ä¸ºä»æœ€æ–°çš„å¼€å§‹)
Parameters: beginAnswerId(integer) userId(integer)

Response:
data(successful): {
    [
        answerId: integer
        questionId: integer
        userId: integer
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
    ]
}
```

* #### æ ¹æ®é—®é¢˜è·å–å›ç­” âˆš

```matlab
Request: GET /getAnswerByQuestion (-1ä¸ºä»æœ€æ–°çš„å¼€å§‹)
Parameters: beginAnswerId(integer) questionId(integer)

Response:
data(successful): {
    [
        answerId: integer
        questionId: integer
        userId: integer
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
    ]
}
```

* #### å›ç­”è·å– âˆš
```matlab
Request: GET /getAnswer
Parameters: answerId(integer)

Response:
data(successful): {
    answerId: integer
    questionId: integer
    userId: integer
    content: string
    createTime: date
    likeNum: integer
    favorNum: integer
    visitNum: integer
}
```

* #### å›ç­”æ›´æ”¹ âˆš
```matlab
Request: POST /updateAnswer
Body: {
    *answerId: integer
    *userId: integer
    *content: string
}

Response:
data(successful): {
    answerId: integer
}
```

* #### å›ç­”åˆ é™¤ âˆš
```matlab
Request: DELETE /deleteAnswer
Body: {
    *answerId: integer
    *userId: integer
}

Response:
data(successful): {}
```

* #### å›ç­”ç‚¹èµ âˆš
```matlab
Request: GET /likeAnswer
Parameters: userId(integer),answerId(integer),like(boolean)

```

* #### å›ç­”æ”¶è— âˆš
```matlab
Request: GET /collectAnswer
Parameters: userId(integer),answerId(integer),collect(boolean)

```

* #### å¢åŠ å›ç­”è®¿é—®æ¬¡æ•° Ã—
```matlab
Request: GET /browseAnswer
Parameters: userId(integer),answerId(integer)
```

## å››ã€è¯„è®ºç®¡ç†
* #### è¯„è®ºå‘å¸ƒ âˆš
```matlab
Request: POST /postComment
Body: {
    *answerId: integer
    *userId: integer
    *content: string
    fatherCommentId: integer
}

Response:
data(successful): {
    commentId: integer
}
```


* #### è¯„è®ºè·å– âˆš
```matlab
Request: GET /getComment
Parameters: commentId(integer) 

Response:
data(successful): {
    commentId: integer
    answerId: integer
    userId: integer
    commentContent: string
    createTime: date
    likeNum: integer
    commentedNum: integer
}
```

* #### æ ¹æ®å›å¤è·å–è¯„è®º âˆš

```matlab
Request: GET /getCommentByAnswer (-1ä¸ºä»æœ€æ–°çš„å¼€å§‹)
Parameters: beginCommentId(integer) answerId(integer)

Response:
data(successful): {
    [
        commentId: integer
        answerId: integer
        userId: integer
        commentContent: string
        createTime: date
        likeNum: integer
        commentedNum: integer
    ]
}
```

* #### è¯„è®ºä¸å¯æ›´æ”¹ 

* #### è¯„è®ºåˆ é™¤ âˆš
```matlab
Request: DELETE /deleteComment
Body: {
    *commentId: integer
    *userId: integer
}

Response:
data(successful): {}
```

* #### è¯„è®ºç‚¹èµ âˆš
```matlab
Request: GET /likeComment
Parameters: userId(integer),commentId(integer),like(boolean)

```

## äº”ã€æ ‡ç­¾ç®¡ç†

* #### æ ‡ç­¾åˆ›å»º âˆš
```matlab
Request: POST /postTag
Body: {
    *content: string
}

Response:
data(successful): {
    content: string
}
```

* #### æ ‡ç­¾è·å–(è·å–æ‰€æœ‰æ ‡ç­¾) âˆš
```matlab
Request: GET /getTags

Response:
data(successful): {
    tags:[string,...]
}
```

* #### æ ‡ç­¾æ›´æ”¹ âˆš
```matlab
Request: POST /updateTag
Body: {
    *content: string
    *newContent: string
}

Response:
data(successful): {
    content: string
}
```

* #### æ ‡ç­¾åˆ é™¤ âˆš
```matlab
Request: DELETE /deleteTag
Body: {
    *content: string
}

Response:
data(successful): {}
```

* #### å¤šä¸ªæ ‡ç­¾åˆ é™¤ âˆš
```matlab
Request: DELETE /deleteTags
Body: {
    *content: [string,...]
}

Response:
data(successful): {}
```

## å…­ã€ä¸»é¢˜ç®¡ç†

* #### ä¸»é¢˜åˆ›å»º âˆš
```matlab
Request: POST /postTheme
Body: {
    *name: string
}

Response:
data(successful): {
    themeId: integer
}
```

* #### ä¸»é¢˜è·å–(è·å–æ‰€æœ‰ä¸»é¢˜) âˆš
```matlab
Request: GET /getThemes

Response:
data(successful): {
    themes: [
        {
            themeId: Integer,
            name: string,
            createTime: date,
        }
    ]
}
```

* #### ä¸»é¢˜è·å– âˆš
```matlab
Request: GET /getTheme
Parameters: themeId(integer)

Response:
data(successful): {
    themeId: integer
    name: string
    createTime: date
}
```

* #### ä¸»é¢˜æ›´æ”¹ âˆš
```matlab
Request: POST /updateTheme
Body: {
    *themeId: integer
    *name: string
}

Response:
data(successful): {
    themeId: integer
}
```

* #### ä¸»é¢˜åˆ é™¤ âˆš
```matlab
Request: DELETE /deleteTheme
Body: {
    *themeId: integer
}

Response:
data(successful): {}
```

* #### å¤šä¸ªä¸»é¢˜åˆ é™¤ âˆš
```matlab
Request: DELETE /deleteThemes
Body: {
    *themeId: [integer,...]
}

Response:
data(successful): {}
```

## ä¸ƒã€ä¸“å®¶ç®¡ç†

* #### å¾½ç« åˆ›å»º Ã—
```matlab
Request: POST /postExpertBadge
Body: {
    *professionId: string
    *badgeImg: string
    *badgeInf: string
}

Response:
data(successful): {
    badgeId: integer
}
```

* #### å¾½ç« è·å– Ã—
```matlab
Request: GET /getExpertBadge
Parameters: badgeId(integer)

Response:
data(successful): {
    badgeId: integer
    profession: string
    grantDate: date
    badgeImg: string
    badgeInf string
}
```

* #### å¾½ç« æ›´æ”¹(ä¸æ˜¯å¾ˆæ˜ç¡®æ˜¯å¦åº”è¯¥å…è®¸æ›´æ”¹å¾½ç« ) Ã—
```matlab
Request: POST /updateExpertBadge
Body: {
    *badgeId: integer
    profession: string
    badgeImg: string
    badgeInf string
}

Response:
data(successful): {
    badgeId: string
}
```

* #### å¾½ç« åˆ é™¤ Ã—
```matlab
Request: DELETE /deleteExpertBadge
Body: {
    *badgeId: integer
}

Response:
data(successful): {}
```

* #### å¾½ç« æˆäºˆ Ã—
```matlab
Request: POST /grantExpertBadge
Body: {
    *badgeId: integer
    *uuserId: integer
}

Response:
data(successful): {}
```

## å…«ã€ä¸¾æŠ¥ç³»ç»Ÿ

* #### ä¸¾æŠ¥åˆ›å»º(é’ˆå¯¹æŸä¸€ç”¨æˆ·) Ã—
```matlab
Request: POST /postTipOff
Body: {
    *userId: string
    *content: string
    *conversation: string
}

Response:
data(successful): {
    tipOffId: integer
}
```

//ä¸¾æŠ¥é—®é¢˜(è·Ÿé¾™å“¥å•†é‡)

* #### ä¸¾æŠ¥è·å– Ã—
```matlab
Request: GET /getTipOffs
Parameters: userId(integer)

Response:
data(successful): {
    tipOffId: [integer,...]
    createTime: [date,...]
    content: [string,...]
    conversation: [string,...]
}
```

* #### ä¸¾æŠ¥åˆ é™¤ Ã—
```matlab
Request: DELETE /deleteTipOff
Body: {
    *userId: integer
    *tipOffId: integer
}

Response:
data(successful): {}
```

# ä¹ã€æ•æ„Ÿè¯ç³»ç»Ÿ

* #### æ•æ„Ÿè¯åˆ›å»º Ã—
```matlab
Request: POST /postSensitiveWord
Body: {
    *name: string
}

Response:
data(successful): {
    sensitiveWordId: integer
}
```

* #### æ•æ„Ÿè¯è·å–(å…¨éƒ¨) Ã—
```matlab
Request: GET /getSensitiveWords

Response:
data(successful): {
    [
     sensitiveWordId: Integer
     wordContent: String
     createTime: Date
     profileBanNum: Integer
     userBanNum: Integer
     questionBanNum: Integer
     answerBanNum: Integer
     commentBanNum: Integer
    ]
}
```

* #### æ•æ„Ÿè¯åˆ é™¤ Ã—
```matlab
Request: DELETE /deleteSensitiveWord
Body: {
    *sensitiveWordId: Integer
}

Response:
data(successful): {
}
```