# 临时文档

````
Create Date: 2020/10/19
Last Update: 2020/10/19
````
×表示未完成 

√表示完成

相关变量名见 UML oom 文件

所有请求请封装到 api.js 中

返回值，swagger文档，请求地址于 2020/10/20 更新

# 一、用户管理

## 登录

上传 json：

用户名

密码

## 注册

上传 json：

用户名 （大于 4 字符

密码 （大于 6 字符

邮箱

手机号

性别

姓名

## // 个人主页

（非主要）

获取 json：

头像

来临时间

姓名

性别二

手机号

邮箱地址

个人简介

统计信息（关注、粉丝、提问、回答、评论、主页浏览次数）

## // 修改个人信息

（非主要）

上传 json：

头像

来临时间

姓名

性别二

手机号

邮箱地址

个人简介

统计信息（关注、粉丝、提问、回答、评论、主页浏览次数）

# 二、问题管理 (likeNum和favorNum选择likeNum)
* #### 问题发布 ×
```matlab
Request: POST /postQuestion
Body: {
    *header: string
    *content: string
    *userId: integer
    *theme: string
    tags: [string, ...]
}

Response:
data(successful): {
    questionId: integer
}
```

* #### 问题最新获取 × (5个)
```matlab
Request: GET /getNewQuestions

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        status: short
        tags: [string, ...]
    ]
}
```

* #### 问题热门获取 × (5个)
```matlab
Request: GET /getHotQuestions

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        status: short
        tags: [string, ...]
    ]
}
```

* #### 问题筛选获取 × (10个)
```matlab
Request: POST /getFilterQuestions
BODY:{
    *beginquestionId: integer
    search:[string,...]
    theme:[string,...]
    mostLike:boolean
    hottest:boolean
    mostReply:boolean
    newest:boolean
}

Response:
data(successful): {
    [
        questionId: integer
        userId: integer
        theme: string
        header: string
        content: string
        createTime: date
        likeNum: integer
        favorNum: integer
        visitNum: integer
        status: short
        tags: [string, ...]
    ]
}
```

* #### 问题获取 ×
```matlab
Request: GET /getQuestion
Parameters: questionId(integer)

Response:
data(successful): {
    questionId: integer
    userId: integer
    theme: string
    header: string
    content: string
    createTime: date
    likeNum: integer
    favorNum: integer
    visitNum: integer
    status: short
    tags: [string, ...]
}
```

* #### 问题更改 ×(只允许更改对应tag和Theme)
```matlab
Request: POST /updateQuestion
Body: {
    *questionId: integer
    *theme: string
    header: string
    content: string
    tag: [string, ...]
}

Response:
data(successful): {
    questionId: integer
}
```

* #### 问题删除 ×
```matlab
Request: DELETE /deleteQuestion
Body: {
    *questionId: integer
}

Response:
data(successful): {}
```

* #### 问题点赞 ×
```matlab
Request: GET /likeQuestion
Parameters: userId(integer),questionId(integer),like(boolean)

```

* #### 问题收藏 ×
```matlab
Request: GET /collectQuestion
Parameters: userId(integer),questionId(integer),collect(boolean)

```

* #### 增加问题访问次数 ×
```matlab
Request: GET /browseQuestion
Parameters: userId(integer),questionId(integer)
```

# 三、回答管理
* #### 回答发布 ×
```matlab
Request: POST /postAnswer
Body: {
    *questionId: integer
    *userId: integer
    *content: string
}

Response:
data(successful): {
    answerId: integer
}
```

// 多个回答获取

* #### 回答获取 ×
```matlab
Request: GET /getAnswer
Parameters: answerId(integer)

Response:
data(successful): {
    answerId: integer
    questionId: integer
    userId: integer
    content: string
    createTime: date
    likeNum: integer
    favorNum: integer
    visitNum: integer
    status: short
}
```

* #### 回答更改 ×
```matlab
Request: POST /updateAnswer
Body: {
    *answerId: integer
    *content: string
}

Response:
data(successful): {
    answerId: integer
}
```

* #### 回答删除 ×
```matlab
Request: DELETE /deleteAnswer
Body: {
    *answerId: integer
}

Response:
data(successful): {}
```

* #### 回答点赞 ×
```matlab
Request: GET /likeAnswer
Parameters: userId(integer),answerId(integer),like(boolean)

```

* #### 回答收藏 ×
```matlab
Request: GET /collectAnswer
Parameters: userId(integer),answerId(integer),collect(boolean)

```

* #### 增加回答访问次数 ×
```matlab
Request: GET /browseAnswer
Parameters: userId(integer),answerId(integer)
```

# 四、评论管理
* #### 评论发布 ×
```matlab
Request: POST /postComment
Body: {
    *answerId: integer
    *userId: integer
    *content: string
    fatherCommentId: integer
}

Response:
data(successful): {
    commentId: integer
}
```

//多个评论获取

* #### 评论获取 ×
```matlab
Request: GET /getComment
Parameters: commentId(integer)

Response:
data(successful): {
    commentId: integer
    answerId: integer
    userId: integer
    commentContent: string
    createTime: date
    likeNum: integer
    commentedNum: integer
    status: short
}
```

* #### 评论不可更改 

* #### 评论删除 ×
```matlab
Request: DELETE /deleteComment
Body: {
    *commentId: integer
}

Response:
data(successful): {}
```

* #### 评论点赞 ×
```matlab
Request: GET /likeComment
Parameters: userId(integer),commentId(integer),like(boolean)

```

# 五、标签管理

* #### 标签创建 √
```matlab
Request: POST /postTag
Body: {
    *content: string
}

Response:
data(successful): {
    content: string
}
```

* #### 标签获取(获取所有标签) √
```matlab
Request: GET /getTags

Response:
data(successful): {
    tags:[string,...]
}
```

* #### 标签更改 √
```matlab
Request: POST /updateTag
Body: {
    *content: string
    *newContent: string
}

Response:
data(successful): {
    content: string
}
```

* #### 标签删除 √
```matlab
Request: DELETE /deleteTag
Body: {
    *content: string
}

Response:
data(successful): {}
```

* #### 多个标签删除 √
```matlab
Request: DELETE /deleteTags
Body: {
    *content: [string,...]
}

Response:
data(successful): {}
```

# 六、主题管理

* #### 主题创建 √
```matlab
Request: POST /postTheme
Body: {
    *name: string
}

Response:
data(successful): {
    themeId: integer
}
```

* #### 主题获取(获取所有主题) √
```matlab
Request: GET /getThemes

Response:
data(successful): {
    themes: [
        {
            themeId: Integer,
            name: string,
            createTime: date,
        }
    ]
}
```

* #### 主题获取 √
```matlab
Request: GET /getTheme
Parameters: themeId(integer)

Response:
data(successful): {
    themeId: integer
    name: string
    createTime: date
}
```

* #### 主题更改 √
```matlab
Request: POST /updateTheme
Body: {
    *themeId: integer
    *name: string
}

Response:
data(successful): {
    themeId: integer
}
```

* #### 主题删除 √
```matlab
Request: DELETE /deleteTheme
Body: {
    *themeId: integer
}

Response:
data(successful): {}
```

* #### 多个主题删除 √
```matlab
Request: DELETE /deleteThemes
Body: {
    *themeId: [integer,...]
}

Response:
data(successful): {}
```

# 七、专家管理

* #### 徽章创建 ×
```matlab
Request: POST /postExpertBadge
Body: {
    *professionId: string
    *badgeImg: string
    *badgeInf: string
}

Response:
data(successful): {
    badgeId: integer
}
```

* #### 徽章获取 ×
```matlab
Request: GET /getExpertBadge
Parameters: badgeId(integer)

Response:
data(successful): {
    badgeId: integer
    profession: string
    grantDate: date
    badgeImg: string
    badgeInf string
}
```

* #### 徽章更改(不是很明确是否应该允许更改徽章) ×
```matlab
Request: POST /updateExpertBadge
Body: {
    *badgeId: integer
    profession: string
    badgeImg: string
    badgeInf string
}

Response:
data(successful): {
    badgeId: string
}
```

* #### 徽章删除 ×
```matlab
Request: DELETE /deleteExpertBadge
Body: {
    *badgeId: integer
}

Response:
data(successful): {}
```

* #### 徽章授予 ×
```matlab
Request: POST /grantExpertBadge
Body: {
    *badgeId: integer
    *uuserId: integer
}

Response:
data(successful): {}
```

# 八、举报系统

* #### 举报创建(针对某一用户) ×
```matlab
Request: POST /postTipOff
Body: {
    *userId: string
    *content: string
    *conversation: string
}

Response:
data(successful): {
    tipOffId: integer
}
```

//举报问题(跟龙哥商量)

* #### 举报获取 ×
```matlab
Request: GET /getTipOffs
Parameters: userId(integer)

Response:
data(successful): {
    tipOffId: [integer,...]
    createTime: [date,...]
    content: [string,...]
    conversation: [string,...]
}
```

* #### 举报删除 ×
```matlab
Request: DELETE /deleteTipOff
Body: {
    *userId: integer
    *tipOffId: integer
}

Response:
data(successful): {}
```